\doxysection{TCPSocket.\+inl}
\hypertarget{_t_c_p_socket_8inl_source}{}\label{_t_c_p_socket_8inl_source}\index{Lib/include/TCPSocket.inl@{Lib/include/TCPSocket.inl}}

\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{preprocessor}{\#include\ "{}TCPSocket.h"{}}}
\DoxyCodeLine{00002\ }
\DoxyCodeLine{00003\ \textcolor{keyword}{template}<Ws::IsSockAddr\ \_SockAddr>}
\DoxyCodeLine{00004\ \mbox{\hyperlink{class_t_c_p_socket}{TCPSocket<\_SockAddr>::TCPSocket}}(\textcolor{keyword}{const}\ Ws::AddressType\&\ addressType,\ \textcolor{keyword}{const}\ \mbox{\hyperlink{class_address}{Address<\_SockAddr>}}\&\ socketAddress,}
\DoxyCodeLine{00005\ \ \ \ \ SOCKET\ descriptor)}
\DoxyCodeLine{00006\ \ \ \ \ :\ \mbox{\hyperlink{class_socket}{Socket}}<\_SockAddr>(addressType,\ Ws::\mbox{\hyperlink{class_socket}{Socket}}::\mbox{\hyperlink{class_ws_1_1_socket_a30a1da37d3070298bccb67179d778830}{SocketType}}::STREAM,\ socketAddress.getSockAddress(),\ descriptor),}
\DoxyCodeLine{00007\ \ \ \ \ \ \ \_socketAddress(socketAddress)}
\DoxyCodeLine{00008\ \{}
\DoxyCodeLine{00009\ \}}
\DoxyCodeLine{00010\ }
\DoxyCodeLine{00011\ \textcolor{keyword}{template}<Ws::IsSockAddr\ \_SockAddr>}
\DoxyCodeLine{00012\ \mbox{\hyperlink{class_t_c_p_socket}{TCPSocket<\_SockAddr>::TCPSocket}}(\textcolor{keyword}{const}\ Ws::AddressType\&\ addressType,}
\DoxyCodeLine{00013\ \ \ \ \ \mbox{\hyperlink{class_address}{Address<\_SockAddr>}}\&\ socketAddress,}
\DoxyCodeLine{00014\ \ \ \ \ \textcolor{keywordtype}{bool}\ shouldBind,}
\DoxyCodeLine{00015\ \ \ \ \ \textcolor{keywordtype}{bool}\ shouldConnect)}
\DoxyCodeLine{00016\ \ \ \ \ :\ \mbox{\hyperlink{class_socket}{Socket}}<\_SockAddr>(addressType,}
\DoxyCodeLine{00017\ \ \ \ \ Ws::\mbox{\hyperlink{class_socket}{Socket}}::\mbox{\hyperlink{class_ws_1_1_socket_a30a1da37d3070298bccb67179d778830}{SocketType}}::STREAM,}
\DoxyCodeLine{00018\ \ \ \ \ socketAddress.getSockAddress(),}
\DoxyCodeLine{00019\ \ \ \ \ shouldBind,}
\DoxyCodeLine{00020\ \ \ \ \ shouldConnect),\ \_socketAddress(socketAddress)}
\DoxyCodeLine{00021\ \{}
\DoxyCodeLine{00022\ \}}
\DoxyCodeLine{00023\ }
\DoxyCodeLine{00024\ \textcolor{keyword}{template}<Ws::IsSockAddr\ \_SockAddr>}
\DoxyCodeLine{00025\ \mbox{\hyperlink{class_t_c_p_socket}{TCPSocket<\_SockAddr>::TCPSocket}}(\mbox{\hyperlink{class_t_c_p_socket}{TCPSocket}}\&\&\ other)\ :\ \mbox{\hyperlink{class_socket}{Socket}}<\_SockAddr>(other)}
\DoxyCodeLine{00026\ \{}
\DoxyCodeLine{00027\ \ \ \ \ \textcolor{keywordflow}{if}\ (\textcolor{keyword}{this}\ !=\ \&other)}
\DoxyCodeLine{00028\ \ \ \ \ \{}
\DoxyCodeLine{00029\ \ \ \ \ \ \ \ \ this-\/>\_socketAddress\ =\ \mbox{\hyperlink{class_address}{Address}}();}
\DoxyCodeLine{00030\ \ \ \ \ \ \ \ \ \_socketAddress\ =\ other.\_socketAddress;}
\DoxyCodeLine{00031\ \ \ \ \ \ \ \ \ other.\_socketAddress\ =\ \mbox{\hyperlink{class_address}{Address}}();}
\DoxyCodeLine{00032\ \ \ \ \ \}}
\DoxyCodeLine{00033\ \}}
\DoxyCodeLine{00034\ }
\DoxyCodeLine{00035\ \textcolor{keyword}{template}<Ws::IsSockAddr\ \_SockAddr>}
\DoxyCodeLine{00036\ \mbox{\hyperlink{class_t_c_p_socket_a687e155b108c325aa56b539c250865b4}{TCPSocket<\_SockAddr>::\string~TCPSocket}}()}
\DoxyCodeLine{00037\ \{}
\DoxyCodeLine{00038\ \ \ \ \ this-\/>close();}
\DoxyCodeLine{00039\ \ \ \ \ \_socketAddress\ =\ \mbox{\hyperlink{class_address}{Address}}();}
\DoxyCodeLine{00040\ \}}
\DoxyCodeLine{00041\ }
\DoxyCodeLine{00042\ \textcolor{keyword}{template}<Ws::IsSockAddr\ \_SockAddr>}
\DoxyCodeLine{00043\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_t_c_p_socket_a8509991f6bdb8337ea7bae1e3c3a147c}{TCPSocket<\_SockAddr>::send}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{class_socket}{Socket<\_SockAddr>}}\&\ sock,\ \textcolor{keyword}{const}\ std::string\&\ data)}
\DoxyCodeLine{00044\ \{}
\DoxyCodeLine{00045\ \ \ \ \ \textcolor{keywordtype}{int}\ messageSize\ =\ data.size();}
\DoxyCodeLine{00046\ \ \ \ \ \mbox{\hyperlink{class_ws_1_1_socket_a74d7ea36f07c0813d092f2217ba7859d}{Ws::Socket::send}}(sock.\mbox{\hyperlink{class_socket_a207376407cfbf576cfe7265905db8621}{getDescriptor}}(),\ \textcolor{keyword}{reinterpret\_cast<}\textcolor{keyword}{const\ }\textcolor{keywordtype}{char}*\textcolor{keyword}{>}(\&messageSize));}
\DoxyCodeLine{00047\ \ \ \ \ \mbox{\hyperlink{class_ws_1_1_socket_a74d7ea36f07c0813d092f2217ba7859d}{Ws::Socket::send}}(sock.\mbox{\hyperlink{class_socket_a207376407cfbf576cfe7265905db8621}{getDescriptor}}(),\ data.data());}
\DoxyCodeLine{00048\ \}}
\DoxyCodeLine{00049\ }
\DoxyCodeLine{00050\ \textcolor{keyword}{template}<Ws::IsSockAddr\ \_SockAddr>}
\DoxyCodeLine{00051\ std::string\ \mbox{\hyperlink{class_t_c_p_socket_a834368b31e2ab2d36c917d1577f9da69}{TCPSocket<\_SockAddr>::received}}()}
\DoxyCodeLine{00052\ \{}
\DoxyCodeLine{00053\ \ \ \ \ \textcolor{keywordtype}{int}\ messageSize\ =\ 0;}
\DoxyCodeLine{00054\ \ \ \ \ \mbox{\hyperlink{class_ws_1_1_socket_a8144f0ffdf74a82c50333f6a05888b98}{Ws::Socket::recv}}(this-\/>getDescriptor(),\ \textcolor{keyword}{reinterpret\_cast<}\textcolor{keywordtype}{char}*\textcolor{keyword}{>}(\&messageSize),\ \textcolor{keyword}{sizeof}(messageSize));}
\DoxyCodeLine{00055\ \ \ \ \ std::string\ recvMessage\{\ \};}
\DoxyCodeLine{00056\ \ \ \ \ recvMessage.resize(messageSize);}
\DoxyCodeLine{00057\ \ \ \ \ \mbox{\hyperlink{class_ws_1_1_socket_a8144f0ffdf74a82c50333f6a05888b98}{Ws::Socket::recv}}(this-\/>getDescriptor(),\ recvMessage.data(),\ messageSize);}
\DoxyCodeLine{00058\ \ \ \ \ \textcolor{keywordflow}{return}\ recvMessage;}
\DoxyCodeLine{00059\ \}}

\end{DoxyCode}
